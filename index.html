<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Word Scramble Trainer</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/framer-motion@10.16.3/dist/framer-motion.umd.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/@radix-ui/colors@latest/blackA.css" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#000',
            accent: '#111',
            background: '#fff',
          },
          borderRadius: {
            xl: '1.5rem',
          },
          boxShadow: {
            subtle: '0 4px 12px rgba(0,0,0,0.08)',
            hover: '0 8px 20px rgba(0,0,0,0.15)'
          },
          transitionProperty: {
            height: 'height',
          }
        },
      },
    }
  </script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fff;
      color: #111;
    }
    .fade-enter {
      opacity: 0;
      transform: translateY(10px);
    }
    .fade-enter-active {
      opacity: 1;
      transform: translateY(0);
    }
    .word-option {
      @apply px-3 py-1 m-1 bg-black text-white rounded cursor-pointer transition-all duration-200 shadow-sm hover:scale-105 hover:shadow-hover;
    }
    .word-line {
      @apply flex flex-wrap gap-2 min-h-[3rem] p-3 border border-black rounded mb-4 transition-all duration-300;
    }
    .wrong {
      background-color: #f00 !important;
      color: #fff !important;
      @apply animate-pulse;
    }
    .btn {
      @apply px-4 py-2 bg-black text-white rounded-xl shadow-subtle hover:bg-gray-900 hover:shadow-hover transition-all duration-300;
    }
    .file-input {
      @apply px-4 py-2 border border-black rounded-xl bg-white shadow-subtle hover:shadow-hover transition-all duration-300;
    }
  </style>
</head>
<body class="p-6 bg-background text-primary">
  <div class="max-w-3xl mx-auto shadow-subtle border border-black rounded-xl p-8 space-y-6 bg-white animate-fade-in">
    <nav class="flex justify-center gap-4 mb-6">
      <button onclick="showPage('home')" class="btn">홈</button>
      <button onclick="showPage('test')" class="btn">테스트</button>
      <button onclick="showPage('result')" class="btn">리뷰</button>
      <button onclick="showPage('settings')" class="btn">설정</button>
    </nav>

    <div id="home" class="page transition-fade">
      <h1 class="text-2xl font-bold mb-2">Word Scramble</h1>
      <p class="mb-4">.txt 또는 .csv 파일 업로드 (빈 줄 → 문단 구분, 없으면 10문장씩)</p>
      <input type="file" id="fileInput" accept=".txt,.csv" class="file-input"/>
    </div>

    <div id="test" class="page hidden transition-fade">
      <h2 class="text-xl font-bold mb-2">문장 배열</h2>
      <div id="sentenceLabel" class="mb-2"></div>
      <div id="userLine" class="word-line"></div>
      <div id="wordChoices" class="flex flex-wrap gap-2 mb-4"></div>
      <button id="checkButton" class="btn">정답 확인</button>
    </div>

    <div id="result" class="page hidden transition-fade">
      <h2 class="text-xl font-bold mb-2">재시도 분석</h2>
      <canvas id="errorChart" class="w-full max-h-96"></canvas>
    </div>

    <div id="settings" class="page hidden transition-fade">
      <h2 class="text-xl font-bold mb-4">설정</h2>
      <div class="space-y-2">
        <button onclick="downloadProgress()" class="btn">학습 데이터 다운로드</button>
        <input type="file" id="loadProgress" accept="application/json" class="file-input"/>
      </div>
    </div>
  </div>

  <!-- script 태그는 그대로 유지 -->
  <script>
    // 기존 자바스크립트 코드 동일 (생략)
  </script>
</body>
</html>
